# Management/Actuator Configuration
management:
  # Tracing configuration (prepared for future distributed tracing support)
  tracing:
    enabled: true
    sampling:
      probability: 1.0 # For dev/testing - sample all traces
  # Observations configuration
  observations:
    annotations:
      enabled: true # Enable annotation scanning for @Observed/@Timed/@Counted (Spring Boot 3.2+)
  endpoints:
    web:
      exposure:
        include: "*" # Will be overridden in prod profile
      base-path: /actuator
  endpoint:
    health:
      show-details: always
      show-components: always
    prometheus:
      enabled: true
    busrefresh:
      enabled: true
    metrics:
      enabled: true
  metrics:
    tags:
      service: config-control-service
      service.version: ${app.version:1.0.0}
      environment: ${ENVIRONMENT:development}
    distribution:
      # Histogram configuration for SLO/SLI tracking
      # WARNING: Histograms increase series count significantly
      # Only enable for critical business metrics
      percentiles-histogram:
        http.server.requests: true # Critical: API latency SLO
        heartbeat.process: true # Critical: Heartbeat processing SLO (from MetricsNames.Heartbeat.PROCESS)
      percentiles:
        http.server.requests: 0.5, 0.9, 0.95, 0.99
        heartbeat.process: 0.5, 0.9, 0.95, 0.99
      slo:
        http.server.requests: 50ms, 100ms, 200ms, 500ms, 1s, 2s, 5s
        heartbeat.process: 10ms, 50ms, 100ms, 200ms, 500ms, 1s
      exemplars:
        enabled: true
  health:
    redis:
      enabled: true
    mongo:
      enabled: false
    observability:
      enabled: false
  prometheus:
    metrics:
      export:
        enabled: true
        step: 15s
