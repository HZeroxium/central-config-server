{
  "openapi": "3.0.1",
  "info": {
    "title": "Config Control Service API",
    "description": "Centralized configuration management and drift detection service.\n\n**Features:**\n- Service instance heartbeat tracking\n- Configuration drift detection and reporting\n- Service discovery integration with Consul\n- Config refresh orchestration via Kafka\n- Real-time monitoring and alerts\n\n**Architecture:**\n- Hexagonal architecture with distinct API, Application, Domain, and Infrastructure layers\n- MongoDB for persistence\n- Redis for caching\n- Kafka for event broadcasting\n",
    "contact": {
      "name": "Platform Team",
      "email": "platform@example.com"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "/",
      "description": "development server"
    }
  ],
  "security": [
    {
      "oauth2_auth_code": [],
      "oauth2_password": []
    }
  ],
  "tags": [
    {
      "name": "IAM Users",
      "description": "User management endpoints"
    },
    {
      "name": "User Management",
      "description": "User information and permissions endpoints"
    },
    {
      "name": "Heartbeat",
      "description": "Service instance heartbeat and health tracking"
    },
    {
      "name": "Key-Value Store",
      "description": "Transactional operations for Key-Value store"
    },
    {
      "name": "Config Server",
      "description": "Spring Cloud Config Server API proxy with standardized responses"
    },
    {
      "name": "Notifications",
      "description": "Email notification testing endpoints"
    },
    {
      "name": "Application Services",
      "description": "Manage application services with team-based access control"
    },
    {
      "name": "Service Shares",
      "description": "Team-based service sharing with fine-grained permissions"
    },
    {
      "name": "Approval Requests",
      "description": "Multi-gate approval workflow for service ownership requests"
    },
    {
      "name": "Data Seeding",
      "description": "Operations for managing mock data generation (Admin only)"
    },
    {
      "name": "IAM Teams",
      "description": "Team management endpoints"
    },
    {
      "name": "Drift Events",
      "description": "CRUD and query for drift events"
    },
    {
      "name": "Key-Value Store",
      "description": "CRUD operations for Key-Value store per ApplicationService"
    },
    {
      "name": "Service Instances",
      "description": "CRUD and query for service instances"
    },
    {
      "name": "Approval Decisions",
      "description": "Query approval decisions for audit and tracking"
    },
    {
      "name": "Service Registry",
      "description": "Consul service discovery and registry operations"
    }
  ],
  "paths": {
    "/api/service-instances/{instanceId}": {
      "get": {
        "tags": [
          "Service Instances"
        ],
        "summary": "Get service instance by ID",
        "description": "Retrieve a specific service instance by instance ID.\n\n**Access Control:**\n- Team members: Can view instances of services owned by their team\n- Shared access: Can view instances of services shared with their team\n- SYS_ADMIN: Can view all instances\n",
        "operationId": "findByIdServiceInstance",
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "payment-dev-1"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Service instance found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceInstanceResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "put": {
        "tags": [
          "Service Instances"
        ],
        "summary": "Update service instance",
        "description": "Update an existing service instance.\n\n**Required Permissions:**\n- Team members: Can update instances of services owned by their team\n- SYS_ADMIN: Can update any instance\n- Updates include configuration hash, status, and drift information\n",
        "operationId": "updateServiceInstance",
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "payment-dev-1"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServiceInstanceUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Service instance updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceInstanceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Service Instances"
        ],
        "summary": "Delete service instance",
        "description": "Delete a service instance permanently.\n\n**Required Permissions:**\n- Team members: Can delete instances of services owned by their team\n- SYS_ADMIN: Can delete any instance\n- This action is irreversible\n",
        "operationId": "deleteServiceInstance",
        "parameters": [
          {
            "name": "instanceId",
            "in": "path",
            "description": "Instance ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "payment-dev-1"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service instance not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "Service instance deleted successfully"
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/cache/config": {
      "put": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "updateCacheConfig",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "object"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/application-services/{serviceId}/kv/{path}": {
      "get": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "Get a KV entry",
        "description": "Retrieve a single KV entry by path.\n\n**Response Formats**\n- `?raw=true`: `application/octet-stream` (binary)\n- default: `application/json` (metadata + base64 value)\n",
        "operationId": "getKVEntry",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          },
          {
            "name": "path",
            "in": "path",
            "description": "Key path (relative to service root). Example: config/db.url or config/app/settings.json",
            "required": true,
            "schema": {
              "pattern": "^[a-zA-Z0-9._/-]+$",
              "type": "string"
            },
            "example": "config/db.url"
          },
          {
            "name": "raw",
            "in": "query",
            "description": "Return raw bytes instead of JSON",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "consistent",
            "in": "query",
            "description": "Use consistent read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "stale",
            "in": "query",
            "description": "Use stale read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "KV entry found",
            "headers": {
              "X-Consul-Index": {
                "description": "Consul index for blocking queries",
                "style": "simple",
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KVEntryResponse"
                },
                "examples": {
                  "json-metadata": {
                    "description": "json-metadata",
                    "value": {
                      "serviceId": "sample-service",
                      "key": "config/db.url",
                      "flags": 0,
                      "modifyIndex": 1234,
                      "valueBase64": "aHR0cDovL2RiLWxvY2Fs"
                    }
                  }
                }
              },
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "KV entry not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "put": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "Create or update a KV entry",
        "description": "Create or update a KV entry. Supports CAS (Compare-And-Set) for conditional updates.\n\n**Access Control:**\n- User must have EDIT permission on the ApplicationService\n\n**CAS Support:**\n- Provide `cas` in request body, or use `If-Match` header\n- Returns 409 Conflict if CAS fails\n",
        "operationId": "putKVEntry",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          },
          {
            "name": "path",
            "in": "path",
            "description": "Key path (relative to service root). Example: config/db.url or config/app/settings.json",
            "required": true,
            "schema": {
              "pattern": "^[a-zA-Z0-9._/-]+$",
              "type": "string"
            },
            "example": "config/db.url"
          },
          {
            "name": "If-Match",
            "in": "header",
            "description": "If-Match header for CAS (alternative to cas in body)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KVPutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "KV entry created/updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KVWriteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "CAS conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "Delete a KV entry",
        "description": "Delete a KV entry or prefix. Supports CAS for conditional delete.\n\n**Access Control:**\n- User must have EDIT permission on the ApplicationService\n\n**Recursive Delete:**\n- Use `?recurse=true` to delete all keys under a prefix\n- Use with caution as this operation is irreversible\n",
        "operationId": "deleteKVEntry",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          },
          {
            "name": "path",
            "in": "path",
            "description": "Key path (relative to service root). Example: config/db.url or config/app/settings.json",
            "required": true,
            "schema": {
              "pattern": "^[a-zA-Z0-9._/-]+$",
              "type": "string"
            },
            "example": "config/db.url"
          },
          {
            "name": "recurse",
            "in": "query",
            "description": "Recurse delete (delete all keys under prefix)",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "cas",
            "in": "query",
            "description": "CAS modify index for conditional delete",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "KV entry deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KVDeleteResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "CAS conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/application-services/{serviceId}/kv/list": {
      "get": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "Get a structured list",
        "description": "Assemble a logical list stored under the given prefix.\n\n**Prefix Parameter:**\n- Use `?prefix=...` to specify the prefix (relative to service root)\n- Empty prefix `?prefix=` or omitted means root prefix\n- Prefix is automatically normalized (trimmed, leading slashes removed)\n",
        "operationId": "getKVList",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          },
          {
            "name": "prefix",
            "in": "query",
            "description": "Prefix to retrieve list from (relative to service root)",
            "required": false,
            "schema": {
              "type": "string",
              "default": ""
            },
            "example": "config"
          },
          {
            "name": "consistent",
            "in": "query",
            "description": "Use consistent read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "stale",
            "in": "query",
            "description": "Use stale read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List structure found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KVListResponseV2"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "List not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "put": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "Create or update a structured list",
        "description": "Writes list items and manifest atomically using transactions.\n\n**Prefix Parameter:**\n- Use `?prefix=...` to specify the prefix (relative to service root)\n- Empty prefix `?prefix=` or omitted means root prefix\n- Prefix is automatically normalized (trimmed, leading slashes removed)\n",
        "operationId": "putKVList",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          },
          {
            "name": "prefix",
            "in": "query",
            "description": "Prefix to store list under (relative to service root)",
            "required": false,
            "schema": {
              "type": "string",
              "default": ""
            },
            "example": "config"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KVListWriteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "List structure created/updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KVTransactionResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/application-services/{id}": {
      "get": {
        "tags": [
          "Application Services"
        ],
        "summary": "Get application service by ID",
        "description": "Retrieve a specific application service by its ID.\n\n**Access Control:**\n- **Authentication required** - Unauthenticated requests will receive 401\n- **Visibility rules apply** - Users can only access:\n  - Orphaned services (ownerTeamId=null)\n  - Services owned by their teams\n  - Services shared to their teams\n- Returns 404 if service doesn't exist or user lacks permission\n",
        "operationId": "findApplicationServiceById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          }
        ],
        "responses": {
          "200": {
            "description": "Application service found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationServiceResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Application service not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "put": {
        "tags": [
          "Application Services"
        ],
        "summary": "Update application service",
        "description": "Update an existing application service.\n\n**Required Permissions:**\n- SYS_ADMIN: Can update any service\n- Team members: Can update services owned by their team\n- Partial updates are supported (only provided fields are updated)\n",
        "operationId": "updateApplicationService",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplicationServiceUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Application service not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Application service updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationServiceResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Application Services"
        ],
        "summary": "Delete application service",
        "description": "Delete an application service permanently.\n\n**Required Permissions:**\n- SYS_ADMIN: Only system administrators can delete services\n- This action is irreversible and will remove all associated data\n",
        "operationId": "deleteApplicationService",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "payment-service"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "Application service deleted successfully"
          },
          "404": {
            "description": "Application service not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/service-shares": {
      "get": {
        "tags": [
          "Service Shares"
        ],
        "summary": "List service shares",
        "description": "Retrieve a paginated list of service shares.\n\n**Access Control:**\n- Team members: Can view shares for services owned by their team\n- SYS_ADMIN: Can view all shares\n- Results are automatically filtered based on user permissions\n",
        "operationId": "findAllServiceShares",
        "parameters": [
          {
            "name": "serviceId",
            "in": "query",
            "description": "Filter by service ID",
            "required": false,
            "schema": {
              "maxLength": 100,
              "minLength": 0,
              "type": "string",
              "description": "Filter by service ID",
              "example": "payment-service"
            },
            "example": "payment-service"
          },
          {
            "name": "grantToType",
            "in": "query",
            "description": "Filter by grantee type",
            "required": false,
            "schema": {
              "maxLength": 20,
              "minLength": 0,
              "type": "string",
              "description": "Filter by grantee type",
              "example": "TEAM",
              "enum": [
                "TEAM",
                "USER"
              ]
            },
            "example": "TEAM"
          },
          {
            "name": "grantToId",
            "in": "query",
            "description": "Filter by grantee ID",
            "required": false,
            "schema": {
              "maxLength": 100,
              "minLength": 0,
              "type": "string",
              "description": "Filter by grantee ID",
              "example": "team_analytics"
            },
            "example": "team_analytics"
          },
          {
            "name": "environments",
            "in": "query",
            "description": "Filter by environments",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by environments",
              "example": [
                "dev",
                "staging"
              ]
            },
            "example": [
              "dev",
              "staging"
            ]
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Service shares retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceSharePageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "post": {
        "tags": [
          "Service Shares"
        ],
        "summary": "Grant service share",
        "description": "Grant fine-grained permissions for a service to another team or user.\n\n**Permission Types:**\n- VIEW_INSTANCE: View service instances\n- EDIT_INSTANCE: Edit service instances\n- VIEW_DRIFT: View drift events\n- EDIT_DRIFT: Edit drift events\n\n**Access Control:**\n- Team members: Can share services owned by their team\n- SYS_ADMIN: Can share any service\n- Permissions can be environment-specific (dev, staging, prod)\n",
        "operationId": "grantServiceShare",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServiceShareCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Service share created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceShareResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/service-instances": {
      "get": {
        "tags": [
          "Service Instances"
        ],
        "summary": "List service instances with filters and pagination",
        "description": "Retrieve a paginated list of service instances with optional filtering.\n\n**Access Control:**\n- Team members: Can view instances of services owned by their team\n- Shared access: Can view instances of services shared with their team\n- SYS_ADMIN: Can view all instances\n- Results are automatically filtered based on user permissions\n",
        "operationId": "findAllServiceInstances",
        "parameters": [
          {
            "name": "serviceId",
            "in": "query",
            "description": "Filter by service ID",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by service ID",
              "example": "payment-service"
            },
            "example": "payment-service"
          },
          {
            "name": "instanceId",
            "in": "query",
            "description": "Filter by instance ID",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by instance ID",
              "example": "payment-dev-1"
            },
            "example": "payment-dev-1"
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by instance status",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by instance status",
              "example": "HEALTHY",
              "enum": [
                "HEALTHY",
                "UNHEALTHY",
                "DRIFT",
                "UNKNOWN"
              ]
            },
            "example": "HEALTHY"
          },
          {
            "name": "hasDrift",
            "in": "query",
            "description": "Filter by drift status",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by drift status",
              "example": true
            },
            "example": true
          },
          {
            "name": "environment",
            "in": "query",
            "description": "Filter by environment",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by environment",
              "example": "dev",
              "enum": [
                "dev",
                "staging",
                "prod"
              ]
            },
            "example": "dev"
          },
          {
            "name": "version",
            "in": "query",
            "description": "Filter by service version",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by service version",
              "example": "1.2.0"
            },
            "example": "1.2.0"
          },
          {
            "name": "lastSeenAtFrom",
            "in": "query",
            "description": "Filter instances seen after this timestamp",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter instances seen after this timestamp",
              "example": "2024-01-15T00:00:00Z"
            },
            "example": "2024-01-15T00:00:00Z"
          },
          {
            "name": "lastSeenAtTo",
            "in": "query",
            "description": "Filter instances seen before this timestamp",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter instances seen before this timestamp",
              "example": "2024-01-15T23:59:59Z"
            },
            "example": "2024-01-15T23:59:59Z"
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service instances retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceInstancePageResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "post": {
        "tags": [
          "Service Instances"
        ],
        "summary": "Create service instance",
        "description": "Create a new service instance for an application service.\n\n**Required Permissions:**\n- Team members: Can create instances for services owned by their team\n- Shared access: Can create instances for services shared with EDIT_INSTANCE permission\n- SYS_ADMIN: Can create instances for any service\n",
        "operationId": "createServiceInstance",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ServiceInstanceCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "ApplicationService not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Service instance created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceInstanceResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/heartbeat": {
      "post": {
        "tags": [
          "Heartbeat"
        ],
        "summary": "Process heartbeat from service instance",
        "description": "Receives periodic heartbeat signals from running service instances.\nThis endpoint tracks instance liveness, detects configuration drift,\nand can trigger automatic configuration refreshes.\n\n**Public Endpoint:** No authentication required for SDK integration\n**Drift Detection:** Compares current config hash with last applied hash\n**Auto-Refresh:** Can trigger config refresh if drift is detected\n",
        "operationId": "processHeartbeat",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HeartbeatPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Heartbeat processed successfully",
            "content": {
              "application/json": {
                "examples": {
                  "Successful Heartbeat": {
                    "description": "Successful Heartbeat",
                    "value": {
                      "status": "ok",
                      "message": "Heartbeat processed",
                      "instance": {
                        "serviceName": "payment-service",
                        "instanceId": "payment-dev-1",
                        "status": "HEALTHY",
                        "hasDrift": false,
                        "configHash": "abc123def456",
                        "lastAppliedHash": "abc123def456"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error during heartbeat processing",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid heartbeat payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/drift-events": {
      "get": {
        "tags": [
          "Drift Events"
        ],
        "summary": "List drift events with filters and pagination",
        "description": "Retrieve a paginated list of drift events with optional filtering.\n\n**Access Control:**\n- Team members: Can view drift events for services owned by their team\n- SYS_ADMIN: Can view all drift events\n- Shared access: Can view drift events for services shared with their team\n- Results are automatically filtered based on user permissions\n",
        "operationId": "findAllDriftEvents",
        "parameters": [
          {
            "name": "serviceName",
            "in": "query",
            "description": "Filter by service name",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by service name",
              "example": "payment-service"
            },
            "example": "payment-service"
          },
          {
            "name": "instanceId",
            "in": "query",
            "description": "Filter by instance ID",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by instance ID",
              "example": "payment-dev-1"
            },
            "example": "payment-dev-1"
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by drift status",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by drift status",
              "example": "DETECTED",
              "enum": [
                "DETECTED",
                "RESOLVED",
                "IGNORED"
              ]
            },
            "example": "DETECTED"
          },
          {
            "name": "severity",
            "in": "query",
            "description": "Filter by severity level",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by severity level",
              "example": "HIGH",
              "enum": [
                "LOW",
                "MEDIUM",
                "HIGH",
                "CRITICAL"
              ]
            },
            "example": "HIGH"
          },
          {
            "name": "detectedAtFrom",
            "in": "query",
            "description": "Filter events detected after this timestamp",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter events detected after this timestamp",
              "example": "2024-01-15T00:00:00Z"
            },
            "example": "2024-01-15T00:00:00Z"
          },
          {
            "name": "detectedAtTo",
            "in": "query",
            "description": "Filter events detected before this timestamp",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter events detected before this timestamp",
              "example": "2024-01-15T23:59:59Z"
            },
            "example": "2024-01-15T23:59:59Z"
          },
          {
            "name": "unresolvedOnly",
            "in": "query",
            "description": "Show only unresolved events",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Show only unresolved events",
              "example": true
            },
            "example": true
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Drift events retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriftEventPageResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "post": {
        "tags": [
          "Drift Events"
        ],
        "summary": "Create drift event",
        "description": "Create a new drift event when configuration drift is detected.\n\n**Access Control:**\n- Team members: Can create drift events for services owned by their team\n- SYS_ADMIN: Can create drift events for any service\n- System: Can create drift events automatically during heartbeat processing\n",
        "operationId": "createDriftEvent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriftEventCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Drift event created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriftEventResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/cache/test": {
      "post": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "testCache",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/providers/{provider}": {
      "post": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "switchCacheProvider",
        "parameters": [
          {
            "name": "provider",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/approval-requests": {
      "get": {
        "tags": [
          "Approval Requests"
        ],
        "summary": "List approval requests",
        "description": "Retrieve a paginated list of approval requests.\n\n**Access Control:**\n- Team members: Can view their own requests\n- SYS_ADMIN: Can view all requests\n- LINE_MANAGER: Can view requests from their direct reports\n- Results are automatically filtered based on user permissions\n",
        "operationId": "findAllApprovalRequests",
        "parameters": [
          {
            "name": "requesterUserId",
            "in": "query",
            "required": false,
            "schema": {
              "maxLength": 100,
              "minLength": 0,
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "maxLength": 20,
              "minLength": 0,
              "type": "string"
            }
          },
          {
            "name": "requestType",
            "in": "query",
            "required": false,
            "schema": {
              "maxLength": 50,
              "minLength": 0,
              "type": "string"
            }
          },
          {
            "name": "fromDate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "toDate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Approval requests retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalRequestPageResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "post": {
        "tags": [
          "Approval Requests"
        ],
        "summary": "Create approval request",
        "description": "Create a new approval request for service ownership.\n\n**Multi-Gate Approval Flow:**\n- SYS_ADMIN: Can approve/reject any request\n- LINE_MANAGER: Can approve requests from their direct reports\n- Request requires approval from configured gates before service ownership is transferred\n\n**Access Control:**\n- Team members: Can create requests for services not owned by their team\n- SYS_ADMIN: Can create requests for any service\n",
        "operationId": "createApprovalRequest",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApprovalRequestCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Approval request created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalRequestResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Request already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/approval-requests/{id}/decisions": {
      "post": {
        "tags": [
          "Approval Requests"
        ],
        "summary": "Submit approval decision",
        "description": "Submit a decision (approve/reject) for an approval request.\n\n**Multi-Gate Approval:**\n- SYS_ADMIN: Can approve/reject any request\n- LINE_MANAGER: Can approve/reject requests from their direct reports\n- Request status is updated based on required approvals from configured gates\n\n**Access Control:**\n- Only authorized approvers can submit decisions\n- Decision is recorded with approver information and timestamp\n",
        "operationId": "submitApprovalDecision",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Approval request ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "request-12345"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApprovalRequestDecisionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "400": {
            "description": "Invalid decision data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Approval request not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Decision submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalRequestResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Not authorized to approve this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/application-services": {
      "get": {
        "tags": [
          "Application Services"
        ],
        "summary": "List all application services",
        "description": "Retrieve a paginated list of application services visible to the authenticated user.\n\n**Access Control & Visibility Rules:**\n- **Authentication required** - Unauthenticated requests will receive 401\n- **System admins** see all services (no filtering)\n- **Regular users** see:\n  - Orphaned services (ownerTeamId=null) - for ownership request workflow\n  - Services owned by their teams\n  - Services shared to their teams via ServiceShare grants\n- Server-side filtering ensures users only see authorized services\n\n**Use Cases:**\n- Service discovery and catalog browsing\n- Requesting ownership of orphaned services\n- Viewing team-owned and shared services\n",
        "operationId": "findAllApplicationServices",
        "parameters": [
          {
            "name": "ownerTeamId",
            "in": "query",
            "description": "Filter by owner team ID",
            "required": false,
            "schema": {
              "maxLength": 100,
              "minLength": 0,
              "type": "string",
              "description": "Filter by owner team ID",
              "example": "team_core"
            },
            "example": "team_core"
          },
          {
            "name": "lifecycle",
            "in": "query",
            "description": "Filter by lifecycle stage",
            "required": false,
            "schema": {
              "maxLength": 50,
              "minLength": 0,
              "type": "string",
              "description": "Filter by lifecycle stage",
              "example": "ACTIVE",
              "enum": [
                "ACTIVE",
                "DEPRECATED",
                "RETIRED"
              ]
            },
            "example": "ACTIVE"
          },
          {
            "name": "tags",
            "in": "query",
            "description": "Filter by tags",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Filter by tags",
              "example": [
                "microservice",
                "payment"
              ]
            },
            "example": [
              "microservice",
              "payment"
            ]
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search term for service name or description",
            "required": false,
            "schema": {
              "maxLength": 200,
              "minLength": 0,
              "type": "string",
              "description": "Search term for service name or description",
              "example": "payment"
            },
            "example": "payment"
          },
          {
            "name": "environment",
            "in": "query",
            "description": "Filter by environment",
            "required": false,
            "schema": {
              "maxLength": 50,
              "minLength": 0,
              "type": "string",
              "description": "Filter by environment",
              "example": "dev",
              "enum": [
                "dev",
                "staging",
                "prod"
              ]
            },
            "example": "dev"
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successfully retrieved application services",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationServicePageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "post": {
        "tags": [
          "Application Services"
        ],
        "summary": "Create a new application service",
        "description": "Create a new application service with team ownership.\n\n**Required Permissions:**\n- SYS_ADMIN: Can create services for any team\n- Team members: Can create services for their own team\n- Service ID must be unique across the system\n",
        "operationId": "createApplicationService",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplicationServiceCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "201": {
            "description": "Application service created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationServiceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Service ID already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/application-services/{serviceId}/kv/txn": {
      "post": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "Execute KV transaction",
        "description": "Executes multiple KV operations atomically using Consul's transaction endpoint.",
        "operationId": "executeKVTransaction",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KVTransactionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KVTransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/admin/seed/seed": {
      "post": {
        "tags": [
          "Data Seeding"
        ],
        "summary": "Seed new mock data",
        "description": "Generates and saves new mock data (services, instances, drift events, etc.) based on seeding configuration. Does not clean existing data first.",
        "operationId": "seedData",
        "responses": {
          "500": {
            "description": "Internal server error during seeding operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedResult"
                }
              }
            }
          },
          "200": {
            "description": "Data seeded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedResult"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden: Requires SYS_ADMIN role or dev profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SeedResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/seed/clean-and-seed": {
      "post": {
        "tags": [
          "Data Seeding"
        ],
        "summary": "Clean and seed mock data",
        "description": "Atomically removes all existing mock data and generates fresh data. This is the recommended endpoint for environment resets.",
        "operationId": "cleanAndSeedData",
        "responses": {
          "200": {
            "description": "Data cleaned and seeded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombinedResult"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden: Requires SYS_ADMIN role or dev profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombinedResult"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error during clean-and-seed operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombinedResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/notifications/test-email/{userId}": {
      "post": {
        "tags": [
          "Notifications"
        ],
        "summary": "Send test email",
        "description": "Sends a test email to verify email notification functionality. Requires SYS_ADMIN role.",
        "operationId": "sendTestEmail",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Email sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/drift-events/{id}": {
      "get": {
        "tags": [
          "Drift Events"
        ],
        "summary": "Get drift event by ID",
        "description": "Retrieve a specific drift event by its ID.\n\n**Access Control:**\n- Team members: Can view drift events for services owned by their team\n- SYS_ADMIN: Can view any drift event\n- Shared access: Can view drift events for services shared with their team\n",
        "operationId": "findDriftEventById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Drift event ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "drift-12345"
          }
        ],
        "responses": {
          "200": {
            "description": "Drift event found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriftEventResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Drift event not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Drift Events"
        ],
        "summary": "Update drift event",
        "description": "Update an existing drift event (status and notes).\n\n**Access Control:**\n- Team members: Can update drift events for services owned by their team\n- SYS_ADMIN: Can update any drift event\n- Updates include status changes (DETECTED, RESOLVED, IGNORED) and resolution notes\n",
        "operationId": "updateDriftEvent",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Drift event ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "drift-12345"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriftEventUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Drift event updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriftEventResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Drift event not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/user/whoami": {
      "get": {
        "tags": [
          "User Management"
        ],
        "summary": "Get current user information",
        "description": "Retrieve detailed information about the currently authenticated user.\nThis includes user ID, username, email, names, team memberships, roles, and manager ID.\n",
        "operationId": "findCurrentUserInformation",
        "responses": {
          "200": {
            "description": "User information retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MeResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/user/me/permissions": {
      "get": {
        "tags": [
          "User Management"
        ],
        "summary": "Get user permissions and routes",
        "description": "Retrieve comprehensive permission information for the current user.\nThis includes allowed API routes, UI routes, roles, teams, actions, and service access.\n\n**Permission Matrix:**\n- API routes: Endpoints the user can access\n- UI routes: Frontend pages the user can navigate to\n- Actions: Specific operations the user can perform\n- Services: Owned and shared services the user can access\n",
        "operationId": "findCurrentUserPermissions",
        "responses": {
          "200": {
            "description": "User permissions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermissionsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/service-shares/{id}": {
      "get": {
        "tags": [
          "Service Shares"
        ],
        "summary": "Get service share by ID",
        "description": "Retrieve a specific service share by its ID.\n\n**Access Control:**\n- Team members: Can view shares for services owned by their team\n- SYS_ADMIN: Can view any share\n- Shared access: Can view shares granted to their team\n",
        "operationId": "findByIdServiceShare",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Service share ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "share-12345"
          }
        ],
        "responses": {
          "404": {
            "description": "Service share not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Service share found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceShareResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Service Shares"
        ],
        "summary": "Revoke service share",
        "description": "Revoke a service share, removing all granted permissions.\n\n**Access Control:**\n- Team members: Can revoke shares for services owned by their team\n- SYS_ADMIN: Can revoke any share\n- Share creator: Can revoke shares they created\n\n**Note:** This action is irreversible\n",
        "operationId": "revokeServiceShare",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Service share ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "share-12345"
          }
        ],
        "responses": {
          "404": {
            "description": "Service share not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "Service share revoked successfully"
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/registry/services": {
      "get": {
        "tags": [
          "Service Registry"
        ],
        "summary": "List all registered services",
        "description": "Retrieves a list of all services registered with Consul.\nThis provides an overview of available services in the ecosystem.\n",
        "operationId": "listServiceRegistryServices",
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error or Consul unreachable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successfully retrieved service list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsulServicesMap"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/registry/services/{serviceName}/instances": {
      "get": {
        "tags": [
          "Service Registry"
        ],
        "summary": "Get service instances",
        "description": "Retrieves instances of a specific service from Consul.\nCan filter to show only healthy instances or all instances.\n",
        "operationId": "getServiceRegistryServiceInstances",
        "parameters": [
          {
            "name": "serviceName",
            "in": "path",
            "description": "Name of the service",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "payment-service"
          },
          {
            "name": "passing",
            "in": "query",
            "description": "Filter to only healthy instances",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true
            },
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "Service instances retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceInstancesRegistryResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Service not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error or Consul unreachable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/iam/users": {
      "get": {
        "tags": [
          "IAM Users"
        ],
        "summary": "List IAM users",
        "description": "Retrieve a paginated list of cached IAM user projections from Keycloak.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "findAllIamUsers",
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "email",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "firstName",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "lastName",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teamIds",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "managerId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roles",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "userTeamIds",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successfully retrieved IAM users",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IamUserPageResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/users/{userId}": {
      "get": {
        "tags": [
          "IAM Users"
        ],
        "summary": "Get IAM user by ID",
        "description": "Retrieve a specific IAM user by their ID from cached Keycloak projections.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "findByIdIamUser",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "user1"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "IAM user found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IamUserResponse"
                }
              }
            }
          },
          "404": {
            "description": "IAM user not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/users/stats": {
      "get": {
        "tags": [
          "IAM Users"
        ],
        "summary": "Get user statistics",
        "description": "Retrieve user count statistics from cached IAM data.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "getStatsIamUser",
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "User statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IamUserStatsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/users/by-team/{teamId}": {
      "get": {
        "tags": [
          "IAM Users"
        ],
        "summary": "List users by team",
        "description": "Retrieve all users belonging to a specific team from cached IAM data.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "findByTeamIamUser",
        "parameters": [
          {
            "name": "teamId",
            "in": "path",
            "description": "Team ID to find users for",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "team_core"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Users in team found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/users/by-manager/{managerId}": {
      "get": {
        "tags": [
          "IAM Users"
        ],
        "summary": "List users by manager",
        "description": "Retrieve all users reporting to a specific manager from cached IAM data.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "findByManagerIamUser",
        "parameters": [
          {
            "name": "managerId",
            "in": "path",
            "description": "Manager's user ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "manager1"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Users reporting to manager found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/teams": {
      "get": {
        "tags": [
          "IAM Teams"
        ],
        "summary": "List IAM teams",
        "description": "Retrieve a paginated list of cached IAM team projections from Keycloak.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "findAllIamTeams",
        "parameters": [
          {
            "name": "displayName",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "members",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "userTeamIds",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved IAM teams",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IamTeamPageResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/teams/{teamId}": {
      "get": {
        "tags": [
          "IAM Teams"
        ],
        "summary": "Get IAM team by ID",
        "description": "Retrieve a specific IAM team by its ID from cached Keycloak projections.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "findByIdIamTeam",
        "parameters": [
          {
            "name": "teamId",
            "in": "path",
            "description": "Team ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "team_core"
          }
        ],
        "responses": {
          "200": {
            "description": "IAM team found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IamTeamResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "IAM team not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/teams/stats": {
      "get": {
        "tags": [
          "IAM Teams"
        ],
        "summary": "Get team statistics",
        "description": "Retrieve team count statistics from cached IAM data.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "getStatsIamTeam",
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Team statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IamTeamStatsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/iam/teams/by-member/{userId}": {
      "get": {
        "tags": [
          "IAM Teams"
        ],
        "summary": "List teams by member",
        "description": "Retrieve all teams that contain a specific user as a member.\nThis endpoint is restricted to system administrators.\n",
        "operationId": "findByMemberIamTeam",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "User ID to find teams for",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "user1"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - SYS_ADMIN role required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Teams containing the user found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/heartbeat/health": {
      "get": {
        "tags": [
          "Heartbeat"
        ],
        "summary": "Health check endpoint",
        "description": "Simple health check to verify that the heartbeat controller is operational.\nThis endpoint is used for monitoring and load balancer health checks.\n",
        "operationId": "heartbeatHealth",
        "responses": {
          "200": {
            "description": "Heartbeat controller is healthy",
            "content": {
              "application/json": {
                "examples": {
                  "Healthy Status": {
                    "description": "Healthy Status",
                    "value": {
                      "status": "UP",
                      "service": "heartbeat-controller"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/config-server/info": {
      "get": {
        "tags": [
          "Config Server"
        ],
        "summary": "Get Config Server information",
        "description": "Retrieves basic information about the Config Server instance.\nThis includes URL, status, and version information.\n",
        "operationId": "getInfoConfigServer",
        "responses": {
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Config Server information retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigServerInfo"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/config-server/health": {
      "get": {
        "tags": [
          "Config Server"
        ],
        "summary": "Get Config Server health status",
        "description": "Retrieves the health status of the underlying Spring Cloud Config Server.\nThis provides information about the Config Server's operational state.\n",
        "operationId": "getHealthConfigServer",
        "responses": {
          "500": {
            "description": "Internal server error or Config Server unreachable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Config Server health status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigServerActuatorHealthResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/config-server/environment/{application}/{profile}": {
      "get": {
        "tags": [
          "Config Server"
        ],
        "summary": "Get configuration environment",
        "description": "Retrieves the configuration properties for a given application and profile from the Config Server.\nThis acts as a proxy to the underlying Spring Cloud Config Server.\n",
        "operationId": "getEnvironmentConfigServer",
        "parameters": [
          {
            "name": "application",
            "in": "path",
            "description": "Name of the application",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "payment-service"
          },
          {
            "name": "profile",
            "in": "path",
            "description": "Profile of the application (e.g., dev, prod)",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "dev"
          },
          {
            "name": "label",
            "in": "query",
            "description": "Optional Git label/branch for configuration version",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "main"
          }
        ],
        "responses": {
          "404": {
            "description": "Configuration not found for the specified application/profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error or Config Server unreachable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid application or profile name",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successfully retrieved configuration environment",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigServerEnvironmentResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/config-server/actuator/{path}": {
      "get": {
        "tags": [
          "Config Server"
        ],
        "summary": "Proxy to Config Server actuator endpoint",
        "description": "Proxies requests to the underlying Spring Cloud Config Server actuator endpoints.\nThis allows access to Config Server management and monitoring endpoints.\n",
        "operationId": "getActuatorEndpointConfigServer",
        "parameters": [
          {
            "name": "path",
            "in": "path",
            "description": "Actuator endpoint path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "env"
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error or Config Server unreachable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid actuator path",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Actuator endpoint not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Actuator endpoint response retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/cache/status": {
      "get": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "getCacheStatus",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/stats/{cacheName}": {
      "get": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "getCacheStats",
        "parameters": [
          {
            "name": "cacheName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/providers": {
      "get": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "getAvailableProviders",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/health": {
      "get": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "getCacheHealth",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/approval-requests/{id}": {
      "get": {
        "tags": [
          "Approval Requests"
        ],
        "summary": "Get approval request by ID",
        "description": "Retrieve a specific approval request by its ID.\n\n**Access Control:**\n- Team members: Can view their own requests\n- SYS_ADMIN: Can view any request\n- LINE_MANAGER: Can view requests from their direct reports\n",
        "operationId": "findApprovalRequestById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Approval request ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "request-12345"
          }
        ],
        "responses": {
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Approval request not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Approval request found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalRequestResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Approval Requests"
        ],
        "summary": "Cancel approval request",
        "description": "Cancel an approval request.\n\n**Access Control:**\n- Requester: Can cancel their own requests\n- SYS_ADMIN: Can cancel any request\n- Request must be in PENDING status to be cancelled\n\n**Note:** Once cancelled, the request cannot be reactivated\n",
        "operationId": "cancelApprovalRequest",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Approval request ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "request-12345"
          }
        ],
        "responses": {
          "404": {
            "description": "Approval request not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "Approval request cancelled successfully"
          },
          "403": {
            "description": "Forbidden - Not authorized to cancel this request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Request cannot be cancelled in current status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/approval-decisions": {
      "get": {
        "tags": [
          "Approval Decisions"
        ],
        "summary": "List approval decisions",
        "description": "Retrieve a paginated list of approval decisions with optional filtering.\n\n**Access Control:**\n- Users can view decisions for requests they have access to\n- SYS_ADMIN can view all decisions\n- Results are automatically filtered based on user permissions\n",
        "operationId": "findAllApprovalDecisions",
        "parameters": [
          {
            "name": "requestId",
            "in": "query",
            "description": "Filter by approval request ID",
            "required": false,
            "schema": {
              "maxLength": 100,
              "minLength": 0,
              "type": "string",
              "description": "Filter by approval request ID",
              "example": "request-12345"
            },
            "example": "request-12345"
          },
          {
            "name": "approverUserId",
            "in": "query",
            "description": "Filter by approver user ID",
            "required": false,
            "schema": {
              "maxLength": 100,
              "minLength": 0,
              "type": "string",
              "description": "Filter by approver user ID",
              "example": "admin"
            },
            "example": "admin"
          },
          {
            "name": "gate",
            "in": "query",
            "description": "Filter by approval gate",
            "required": false,
            "schema": {
              "maxLength": 50,
              "minLength": 0,
              "type": "string",
              "description": "Filter by approval gate",
              "example": "SYS_ADMIN",
              "enum": [
                "SYS_ADMIN",
                "LINE_MANAGER"
              ]
            },
            "example": "SYS_ADMIN"
          },
          {
            "name": "decision",
            "in": "query",
            "description": "Filter by decision type",
            "required": false,
            "schema": {
              "maxLength": 20,
              "minLength": 0,
              "type": "string",
              "description": "Filter by decision type",
              "example": "APPROVE",
              "enum": [
                "APPROVE",
                "REJECT"
              ]
            },
            "example": "APPROVE"
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Approval decisions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalDecisionPageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/approval-decisions/{id}": {
      "get": {
        "tags": [
          "Approval Decisions"
        ],
        "summary": "Get approval decision by ID",
        "description": "Retrieve a specific approval decision by its ID.\n\n**Access Control:**\n- Users can view decisions for requests they have access to\n- SYS_ADMIN can view any decision\n",
        "operationId": "findApprovalDecisionById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Approval decision ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "decision-12345"
          }
        ],
        "responses": {
          "200": {
            "description": "Approval decision found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalDecisionResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Approval decision not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/approval-decisions/request/{requestId}": {
      "get": {
        "tags": [
          "Approval Decisions"
        ],
        "summary": "List decisions for a request",
        "description": "Retrieve all approval decisions for a specific approval request.\n\n**Access Control:**\n- Users can view decisions for requests they have access to\n- SYS_ADMIN can view decisions for any request\n",
        "operationId": "findApprovalDecisionsByRequestId",
        "parameters": [
          {
            "name": "requestId",
            "in": "path",
            "description": "Approval request ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "request-12345"
          },
          {
            "name": "page",
            "in": "query",
            "description": "Zero-based page index (0..N)",
            "required": false,
            "schema": {
              "minimum": 0,
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "The size of the page to be returned",
            "required": false,
            "schema": {
              "minimum": 1,
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        ],
        "responses": {
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Approval decisions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApprovalDecisionPageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/application-services/{serviceId}/kv": {
      "get": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "List KV entries or keys",
        "description": "List KV entries or keys under a prefix.\n\n**Response Forms**\n- `?keysOnly=true`: KeysResponse (array of key paths)\n- default: ListResponse (array of entries with metadata)\n",
        "operationId": "listKVEntries",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          },
          {
            "name": "prefix",
            "in": "query",
            "description": "Prefix to list (relative to service root)",
            "required": false,
            "schema": {
              "type": "string",
              "default": ""
            },
            "example": "config/"
          },
          {
            "name": "keysOnly",
            "in": "query",
            "description": "Return only keys, not full entries",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "recurse",
            "in": "query",
            "description": "Recurse into subdirectories",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true
            }
          },
          {
            "name": "separator",
            "in": "query",
            "description": "Separator for directory-like listing",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "consistent",
            "in": "query",
            "description": "Use consistent read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "stale",
            "in": "query",
            "description": "Use stale read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Service not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "Successfully retrieved list",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/KVListResponse"
                    },
                    {
                      "$ref": "#/components/schemas/KVKeysResponse"
                    }
                  ]
                },
                "examples": {
                  "keysOnly=true": {
                    "description": "keysOnly=true",
                    "value": {
                      "keys": [
                        "config/db.url",
                        "config/timeout",
                        "secrets/enc.key"
                      ]
                    }
                  },
                  "keysOnly=false (default)": {
                    "description": "keysOnly=false (default)",
                    "value": {
                      "entries": [
                        {
                          "serviceId": "sample-service",
                          "key": "config/db.url",
                          "flags": 0,
                          "modifyIndex": 1234,
                          "valueBase64": "aHR0cDovL2RiLWxvY2Fs"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/application-services/{serviceId}/kv/view": {
      "get": {
        "tags": [
          "Key-Value Store"
        ],
        "summary": "View prefix as structured document",
        "description": "Returns a read-only view of all keys under a prefix in JSON, YAML, or Properties format.",
        "operationId": "viewKVPrefix",
        "parameters": [
          {
            "name": "serviceId",
            "in": "path",
            "description": "Application service ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sample-service"
          },
          {
            "name": "prefix",
            "in": "query",
            "description": "Prefix to view (relative to service root)",
            "required": false,
            "schema": {
              "type": "string",
              "default": ""
            },
            "example": "config/"
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format: json, yaml, or properties",
            "required": false,
            "schema": {
              "type": "string",
              "default": "json"
            },
            "example": "json"
          },
          {
            "name": "consistent",
            "in": "query",
            "description": "Use consistent read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "stale",
            "in": "query",
            "description": "Use stale read",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2_auth_code": []
          },
          {
            "oauth2_password": []
          }
        ]
      }
    },
    "/api/cache/{cacheName}": {
      "delete": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "clearCache",
        "parameters": [
          {
            "name": "cacheName",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/all": {
      "delete": {
        "tags": [
          "cache-management-controller"
        ],
        "operationId": "clearAllCaches",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/seed/clean": {
      "delete": {
        "tags": [
          "Data Seeding"
        ],
        "summary": "Clean all mock data",
        "description": "Removes all application services, instances, drift events, shares, approval requests, and decisions. IAM data (users/teams) is preserved.",
        "operationId": "cleanData",
        "responses": {
          "500": {
            "description": "Internal server error during cleaning operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CleanResult"
                }
              }
            }
          },
          "200": {
            "description": "Data cleaned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CleanResult"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden: Requires SYS_ADMIN role or dev profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CleanResult"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ServiceInstanceUpdateRequest": {
        "type": "object",
        "properties": {
          "host": {
            "type": "string",
            "description": "Instance host address",
            "example": "payment-dev-1.internal.company.com"
          },
          "port": {
            "type": "integer",
            "description": "Instance port number",
            "format": "int32",
            "example": 8080
          },
          "environment": {
            "type": "string",
            "description": "Deployment environment",
            "example": "dev",
            "enum": [
              "dev",
              "staging",
              "prod"
            ]
          },
          "version": {
            "type": "string",
            "description": "Service version",
            "example": "1.2.1"
          },
          "configHash": {
            "type": "string",
            "description": "Current configuration hash",
            "example": "def456ghi789"
          },
          "lastAppliedHash": {
            "type": "string",
            "description": "Last applied configuration hash",
            "example": "abc123def456"
          },
          "expectedHash": {
            "type": "string",
            "description": "Expected configuration hash",
            "example": "def456ghi789"
          },
          "hasDrift": {
            "type": "boolean",
            "description": "Whether drift is detected",
            "example": true
          },
          "status": {
            "type": "string",
            "description": "Instance status",
            "example": "HEALTHY",
            "enum": [
              "HEALTHY",
              "UNHEALTHY",
              "DRIFT",
              "UNKNOWN",
              "STALE",
              "HEALTHY",
              "UNHEALTHY",
              "DRIFT",
              "UNKNOWN"
            ]
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "description": "Instance metadata",
              "example": "{\"region\":\"us-east-1\",\"zone\":\"us-east-1a\",\"updated\":\"2024-01-15\"}"
            },
            "description": "Instance metadata",
            "example": {
              "region": "us-east-1",
              "zone": "us-east-1a",
              "updated": "2024-01-15"
            }
          }
        },
        "description": "Service instance update request"
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "A URI reference that identifies the problem type",
            "example": "https://api.example.com/problems/validation-error"
          },
          "title": {
            "type": "string",
            "description": "A short, human-readable summary of the problem type",
            "example": "Validation Failed"
          },
          "status": {
            "type": "integer",
            "description": "The HTTP status code",
            "format": "int32",
            "example": 400
          },
          "detail": {
            "type": "string",
            "description": "A human-readable explanation specific to this occurrence of the problem",
            "example": "Request validation failed"
          },
          "instance": {
            "type": "string",
            "description": "A URI reference that identifies the specific occurrence of the problem",
            "example": "/api/application-services"
          },
          "timestamp": {
            "type": "string",
            "description": "Timestamp when the error occurred",
            "format": "date-time",
            "example": "2024-01-15T10:30:45.123Z"
          },
          "traceId": {
            "type": "string",
            "description": "Trace ID for correlation across services",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "context": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "description": "Additional context about the error"
            },
            "description": "Additional context about the error"
          },
          "validationErrors": {
            "type": "array",
            "description": "Validation errors (for validation failures)",
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            }
          }
        },
        "description": "Standardized error response following RFC-7807 Problem Details for HTTP APIs"
      },
      "ValidationError": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "The field that failed validation",
            "example": "serviceId"
          },
          "rejectedValue": {
            "type": "object",
            "description": "The value that was rejected",
            "example": "invalid-service-id"
          },
          "message": {
            "type": "string",
            "description": "Human-readable error message",
            "example": "Service ID must not exceed 100 characters"
          },
          "code": {
            "type": "string",
            "description": "Validation constraint code",
            "example": "Size"
          }
        },
        "description": "Individual validation error details"
      },
      "ServiceInstanceResponse": {
        "type": "object",
        "properties": {
          "serviceId": {
            "type": "string",
            "description": "ID of the service",
            "example": "payment-service"
          },
          "instanceId": {
            "type": "string",
            "description": "Unique instance identifier",
            "example": "payment-dev-1"
          },
          "host": {
            "type": "string",
            "description": "Instance host address",
            "example": "payment-dev-1.internal.company.com"
          },
          "port": {
            "type": "integer",
            "description": "Instance port number",
            "format": "int32",
            "example": 8080
          },
          "environment": {
            "type": "string",
            "description": "Deployment environment",
            "example": "dev",
            "enum": [
              "dev",
              "staging",
              "prod"
            ]
          },
          "version": {
            "type": "string",
            "description": "Service version",
            "example": "1.2.0"
          },
          "configHash": {
            "type": "string",
            "description": "Current configuration hash",
            "example": "abc123def456"
          },
          "lastAppliedHash": {
            "type": "string",
            "description": "Last applied configuration hash",
            "example": "abc123def456"
          },
          "expectedHash": {
            "type": "string",
            "description": "Expected configuration hash",
            "example": "abc123def456"
          },
          "status": {
            "type": "string",
            "description": "Instance status",
            "example": "HEALTHY",
            "enum": [
              "HEALTHY",
              "UNHEALTHY",
              "DRIFT",
              "UNKNOWN",
              "STALE",
              "HEALTHY",
              "UNHEALTHY",
              "DRIFT",
              "UNKNOWN"
            ]
          },
          "lastSeenAt": {
            "type": "string",
            "description": "Last time instance was seen",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          },
          "createdAt": {
            "type": "string",
            "description": "Instance creation timestamp",
            "format": "date-time",
            "example": "2024-01-15T10:30:45.123Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Instance last update timestamp",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "description": "Instance metadata",
              "example": "{\"region\":\"us-east-1\",\"zone\":\"us-east-1a\"}"
            },
            "description": "Instance metadata",
            "example": {
              "region": "us-east-1",
              "zone": "us-east-1a"
            }
          },
          "hasDrift": {
            "type": "boolean",
            "description": "Whether drift is detected",
            "example": false
          },
          "driftDetectedAt": {
            "type": "string",
            "description": "Timestamp when drift was first detected",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          }
        },
        "description": "Service instance details response"
      },
      "KVPutRequest": {
        "required": [
          "value"
        ],
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "Value as string (will be encoded based on encoding field)",
            "example": "postgres://user:pass@db/prod"
          },
          "encoding": {
            "type": "string",
            "description": "Value encoding: 'base64', 'utf8', or 'raw' (default: utf8)",
            "example": "utf8",
            "enum": [
              "base64",
              "utf8",
              "raw"
            ]
          },
          "cas": {
            "type": "integer",
            "description": "CAS (Compare-And-Set) modify index for conditional update",
            "format": "int64",
            "example": 12345
          },
          "flags": {
            "minimum": 0,
            "type": "integer",
            "description": "Flags (arbitrary uint64 metadata)",
            "format": "int64",
            "example": 0
          }
        },
        "description": "Put request with value and options"
      },
      "KVWriteResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded",
            "example": true
          },
          "modifyIndex": {
            "type": "integer",
            "description": "New modify index after the operation",
            "format": "int64",
            "example": 12346
          }
        },
        "description": "Result of PUT operation"
      },
      "KVListItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Stable identifier of the item",
            "example": "item-1"
          },
          "data": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "description": "Structured data representing the item"
            },
            "description": "Structured data representing the item"
          }
        },
        "description": "Single item within a structured list"
      },
      "KVListManifest": {
        "type": "object",
        "properties": {
          "order": {
            "type": "array",
            "description": "Ordering of item IDs",
            "items": {
              "type": "string",
              "description": "Ordering of item IDs"
            }
          },
          "version": {
            "type": "integer",
            "description": "Manifest version (monotonic increment)",
            "format": "int64",
            "example": 1
          },
          "etag": {
            "type": "string",
            "description": "ETag-style concurrency token",
            "nullable": true,
            "example": "abc123"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "description": "Additional metadata for consumers"
            },
            "description": "Additional metadata for consumers"
          }
        },
        "description": "List ordering and metadata manifest"
      },
      "KVListWriteRequest": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "Items to persist with their identifiers",
            "items": {
              "$ref": "#/components/schemas/KVListItem"
            }
          },
          "manifest": {
            "$ref": "#/components/schemas/KVListManifest"
          },
          "deletes": {
            "type": "array",
            "description": "Identifiers of items that should be removed from storage",
            "items": {
              "type": "string",
              "description": "Identifiers of items that should be removed from storage"
            }
          }
        },
        "description": "List structure to persist"
      },
      "KVTransactionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether every operation in the transaction succeeded",
            "example": true
          },
          "results": {
            "type": "array",
            "description": "Detailed outcome per operation (in request order)",
            "items": {
              "$ref": "#/components/schemas/KVTransactionResult"
            }
          },
          "error": {
            "type": "string",
            "description": "Error message when transaction fails",
            "nullable": true,
            "example": "CAS check failed"
          }
        },
        "description": "Result of KV transaction execution"
      },
      "KVTransactionResult": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Relative path of the key",
            "example": "config/db.url"
          },
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded",
            "example": true
          },
          "modifyIndex": {
            "type": "integer",
            "description": "Modify index returned by Consul",
            "format": "int64",
            "nullable": true,
            "example": 12346
          },
          "message": {
            "type": "string",
            "description": "Message describing the failure, if any",
            "nullable": true,
            "example": "CAS mismatch"
          }
        },
        "description": "Outcome of a single transaction operation"
      },
      "ApplicationServiceUpdateRequest": {
        "type": "object",
        "properties": {
          "displayName": {
            "maxLength": 200,
            "minLength": 0,
            "type": "string",
            "description": "Human-readable service name",
            "example": "Payment Service v2"
          },
          "lifecycle": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "Service lifecycle stage",
            "example": "ACTIVE",
            "enum": [
              "ACTIVE",
              "DEPRECATED",
              "RETIRED"
            ]
          },
          "tags": {
            "type": "array",
            "description": "Optional tags for categorization",
            "example": [
              "microservice",
              "payment",
              "critical",
              "updated"
            ],
            "items": {
              "type": "string",
              "description": "Optional tags for categorization",
              "example": "[\"microservice\",\"payment\",\"critical\",\"updated\"]"
            }
          },
          "repoUrl": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "description": "Git repository URL",
            "example": "https://github.com/company/payment-service"
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "description": "Additional service attributes",
              "example": "{\"version\":\"2.0.0\",\"framework\":\"spring-boot\",\"javaVersion\":\"17\"}"
            },
            "description": "Additional service attributes",
            "example": {
              "version": "2.0.0",
              "framework": "spring-boot",
              "javaVersion": "17"
            }
          }
        },
        "description": "Application service update request"
      },
      "ApplicationServiceResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique service identifier",
            "example": "payment-service"
          },
          "displayName": {
            "type": "string",
            "description": "Human-readable service name",
            "example": "Payment Service"
          },
          "ownerTeamId": {
            "type": "string",
            "description": "Team that owns this service",
            "example": "team_core"
          },
          "environments": {
            "type": "array",
            "description": "List of environments where this service is deployed",
            "example": [
              "dev",
              "staging",
              "prod"
            ],
            "items": {
              "type": "string",
              "description": "List of environments where this service is deployed",
              "example": "[\"dev\",\"staging\",\"prod\"]"
            }
          },
          "tags": {
            "type": "array",
            "description": "Service tags for categorization",
            "example": [
              "microservice",
              "payment",
              "critical"
            ],
            "items": {
              "type": "string",
              "description": "Service tags for categorization",
              "example": "[\"microservice\",\"payment\",\"critical\"]"
            }
          },
          "repoUrl": {
            "type": "string",
            "description": "Git repository URL",
            "example": "https://github.com/company/payment-service"
          },
          "lifecycle": {
            "type": "string",
            "description": "Service lifecycle stage",
            "example": "ACTIVE",
            "enum": [
              "ACTIVE",
              "DEPRECATED",
              "RETIRED"
            ]
          },
          "createdAt": {
            "type": "string",
            "description": "Service creation timestamp",
            "format": "date-time",
            "example": "2024-01-15T10:30:45.123Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Service last update timestamp",
            "format": "date-time",
            "example": "2024-01-15T14:22:18.456Z"
          },
          "createdBy": {
            "type": "string",
            "description": "User who created this service",
            "example": "user1"
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "description": "Additional service attributes",
              "example": "{\"version\":\"1.2.0\",\"framework\":\"spring-boot\"}"
            },
            "description": "Additional service attributes",
            "example": {
              "version": "1.2.0",
              "framework": "spring-boot"
            }
          }
        },
        "description": "Application service details response"
      },
      "ServiceShareCreateRequest": {
        "required": [
          "grantToId",
          "grantToType",
          "permissions",
          "serviceId"
        ],
        "type": "object",
        "properties": {
          "serviceId": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Service ID to share",
            "example": "payment-service"
          },
          "grantToType": {
            "maxLength": 20,
            "minLength": 0,
            "type": "string",
            "description": "Type of grantee",
            "example": "TEAM",
            "enum": [
              "TEAM",
              "USER"
            ]
          },
          "grantToId": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "ID of the grantee (team or user)",
            "example": "team_analytics"
          },
          "permissions": {
            "maxItems": 2147483647,
            "minItems": 1,
            "type": "array",
            "description": "List of permissions to grant",
            "example": [
              "VIEW_INSTANCE",
              "VIEW_DRIFT"
            ],
            "items": {
              "type": "string",
              "description": "List of permissions to grant",
              "example": "[\"VIEW_INSTANCE\",\"VIEW_DRIFT\"]"
            }
          },
          "environments": {
            "type": "array",
            "description": "Environments where permissions apply",
            "example": [
              "dev",
              "staging"
            ],
            "items": {
              "type": "string",
              "description": "Environments where permissions apply",
              "example": "[\"dev\",\"staging\"]"
            }
          },
          "expiresAt": {
            "type": "string",
            "description": "Optional expiration timestamp",
            "format": "date-time",
            "example": "2024-12-31T23:59:59.999Z"
          }
        },
        "description": "Service share creation request"
      },
      "ServiceShareResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique share identifier",
            "example": "share-12345"
          },
          "resourceLevel": {
            "type": "string",
            "description": "Resource level of the share",
            "example": "SERVICE"
          },
          "serviceId": {
            "type": "string",
            "description": "Service ID being shared",
            "example": "payment-service"
          },
          "grantToType": {
            "type": "string",
            "description": "Type of grantee",
            "example": "TEAM",
            "enum": [
              "TEAM",
              "USER"
            ]
          },
          "grantToId": {
            "type": "string",
            "description": "ID of the grantee",
            "example": "team_analytics"
          },
          "permissions": {
            "type": "array",
            "description": "Granted permissions",
            "example": [
              "VIEW_INSTANCE",
              "VIEW_DRIFT"
            ],
            "items": {
              "type": "string",
              "description": "Granted permissions",
              "example": "[\"VIEW_INSTANCE\",\"VIEW_DRIFT\"]"
            }
          },
          "environments": {
            "type": "array",
            "description": "Environments where permissions apply",
            "example": [
              "dev",
              "staging"
            ],
            "items": {
              "type": "string",
              "description": "Environments where permissions apply",
              "example": "[\"dev\",\"staging\"]"
            }
          },
          "grantedBy": {
            "type": "string",
            "description": "User who granted the share",
            "example": "user1"
          },
          "createdAt": {
            "type": "string",
            "description": "Share creation timestamp",
            "format": "date-time",
            "example": "2024-01-15T10:30:45.123Z"
          },
          "expiresAt": {
            "type": "string",
            "description": "Share expiration timestamp",
            "format": "date-time",
            "example": "2024-12-31T23:59:59.999Z"
          }
        },
        "description": "Service share details response"
      },
      "ServiceInstanceCreateRequest": {
        "required": [
          "instanceId",
          "serviceId"
        ],
        "type": "object",
        "properties": {
          "serviceId": {
            "type": "string",
            "description": "ID of the service",
            "example": "payment-service"
          },
          "instanceId": {
            "type": "string",
            "description": "Unique instance identifier",
            "example": "payment-dev-1"
          },
          "host": {
            "type": "string",
            "description": "Instance host address",
            "example": "payment-dev-1.internal.company.com"
          },
          "port": {
            "type": "integer",
            "description": "Instance port number",
            "format": "int32",
            "example": 8080
          },
          "environment": {
            "type": "string",
            "description": "Deployment environment",
            "example": "dev",
            "enum": [
              "dev",
              "staging",
              "prod"
            ]
          },
          "version": {
            "type": "string",
            "description": "Service version",
            "example": "1.2.0"
          },
          "configHash": {
            "type": "string",
            "description": "Current configuration hash",
            "example": "abc123def456"
          },
          "lastAppliedHash": {
            "type": "string",
            "description": "Last applied configuration hash",
            "example": "abc123def456"
          },
          "expectedHash": {
            "type": "string",
            "description": "Expected configuration hash",
            "example": "abc123def456"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "description": "Instance metadata",
              "example": "{\"region\":\"us-east-1\",\"zone\":\"us-east-1a\"}"
            },
            "description": "Instance metadata",
            "example": {
              "region": "us-east-1",
              "zone": "us-east-1a"
            }
          }
        },
        "description": "Service instance creation request"
      },
      "HeartbeatPayload": {
        "required": [
          "instanceId",
          "serviceName"
        ],
        "type": "object",
        "properties": {
          "serviceName": {
            "type": "string"
          },
          "instanceId": {
            "type": "string"
          },
          "configHash": {
            "type": "string"
          },
          "host": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "format": "int32"
          },
          "environment": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        },
        "description": "Heartbeat payload with service instance information and config hash"
      },
      "DriftEventCreateRequest": {
        "required": [
          "instanceId",
          "serviceName"
        ],
        "type": "object",
        "properties": {
          "serviceName": {
            "type": "string",
            "description": "Name of the service",
            "example": "payment-service"
          },
          "instanceId": {
            "type": "string",
            "description": "Instance identifier",
            "example": "payment-dev-1"
          },
          "expectedHash": {
            "type": "string",
            "description": "Expected configuration hash",
            "example": "abc123def456"
          },
          "appliedHash": {
            "type": "string",
            "description": "Applied configuration hash",
            "example": "def456ghi789"
          },
          "severity": {
            "type": "string",
            "description": "Drift severity level",
            "example": "HIGH",
            "enum": [
              "LOW",
              "MEDIUM",
              "HIGH",
              "CRITICAL",
              "LOW",
              "MEDIUM",
              "HIGH",
              "CRITICAL"
            ]
          },
          "status": {
            "type": "string",
            "description": "Drift status",
            "example": "DETECTED",
            "enum": [
              "DETECTED",
              "ACKNOWLEDGED",
              "RESOLVING",
              "RESOLVED",
              "IGNORED",
              "DETECTED",
              "RESOLVED",
              "IGNORED"
            ]
          },
          "detectedBy": {
            "type": "string",
            "description": "Who detected the drift",
            "example": "system"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the drift",
            "example": "Configuration mismatch in database connection settings"
          }
        },
        "description": "Drift event creation request"
      },
      "DriftEventResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique drift event identifier",
            "example": "drift-12345"
          },
          "serviceName": {
            "type": "string",
            "description": "Name of the service",
            "example": "payment-service"
          },
          "instanceId": {
            "type": "string",
            "description": "Instance identifier",
            "example": "payment-dev-1"
          },
          "expectedHash": {
            "type": "string",
            "description": "Expected configuration hash",
            "example": "abc123def456"
          },
          "appliedHash": {
            "type": "string",
            "description": "Applied configuration hash",
            "example": "def456ghi789"
          },
          "environment": {
            "type": "string",
            "description": "Environment where drift occurred",
            "example": "development"
          },
          "severity": {
            "type": "string",
            "description": "Drift severity level",
            "example": "HIGH",
            "enum": [
              "LOW",
              "MEDIUM",
              "HIGH",
              "CRITICAL",
              "LOW",
              "MEDIUM",
              "HIGH",
              "CRITICAL"
            ]
          },
          "status": {
            "type": "string",
            "description": "Drift status",
            "example": "DETECTED",
            "enum": [
              "DETECTED",
              "ACKNOWLEDGED",
              "RESOLVING",
              "RESOLVED",
              "IGNORED",
              "DETECTED",
              "RESOLVED",
              "IGNORED"
            ]
          },
          "detectedAt": {
            "type": "string",
            "description": "When drift was detected",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          },
          "resolvedAt": {
            "type": "string",
            "description": "When drift was resolved",
            "format": "date-time",
            "example": "2024-01-15T15:45:30.456Z"
          },
          "detectedBy": {
            "type": "string",
            "description": "Who detected the drift",
            "example": "system"
          },
          "resolvedBy": {
            "type": "string",
            "description": "Who resolved the drift",
            "example": "user1"
          },
          "notes": {
            "type": "string",
            "description": "Event notes",
            "example": "Configuration mismatch in database connection settings"
          }
        },
        "description": "Drift event details response"
      },
      "ApprovalRequestCreateRequest": {
        "required": [
          "serviceId",
          "targetTeamId"
        ],
        "type": "object",
        "properties": {
          "serviceId": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Service ID to request ownership for",
            "example": "payment-service"
          },
          "targetTeamId": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Team requesting ownership",
            "example": "team_core"
          },
          "note": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "description": "Optional note explaining the request",
            "example": "Our team will be responsible for maintaining this service"
          }
        },
        "description": "Approval request creation data"
      },
      "ApprovalRequestApprovalGate": {
        "type": "object",
        "properties": {
          "gate": {
            "type": "string"
          },
          "minApprovals": {
            "type": "integer",
            "format": "int32"
          }
        },
        "description": "Approval gate information"
      },
      "ApprovalRequestApprovalTarget": {
        "type": "object",
        "properties": {
          "serviceId": {
            "type": "string"
          },
          "teamId": {
            "type": "string"
          }
        },
        "description": "Approval target information"
      },
      "ApprovalRequestRequesterSnapshot": {
        "type": "object",
        "properties": {
          "teamIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "managerId": {
            "type": "string"
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "description": "Requester snapshot information"
      },
      "ApprovalRequestResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "requesterUserId": {
            "type": "string"
          },
          "requestType": {
            "type": "string"
          },
          "target": {
            "$ref": "#/components/schemas/ApprovalRequestApprovalTarget"
          },
          "required": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApprovalRequestApprovalGate"
            }
          },
          "status": {
            "type": "string"
          },
          "snapshot": {
            "$ref": "#/components/schemas/ApprovalRequestRequesterSnapshot"
          },
          "counts": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "note": {
            "type": "string"
          },
          "cancelReason": {
            "type": "string"
          }
        },
        "description": "Approval request details response"
      },
      "ApprovalRequestDecisionRequest": {
        "required": [
          "decision"
        ],
        "type": "object",
        "properties": {
          "decision": {
            "maxLength": 20,
            "minLength": 0,
            "type": "string",
            "description": "Approval decision",
            "example": "APPROVE",
            "enum": [
              "APPROVE",
              "REJECT"
            ]
          },
          "note": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "description": "Optional note explaining the decision",
            "example": "Approved based on team capacity and expertise"
          }
        },
        "description": "Decision data (approve/reject with optional note)"
      },
      "ApplicationServiceCreateRequest": {
        "required": [
          "displayName",
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Unique service identifier",
            "example": "payment-service"
          },
          "displayName": {
            "maxLength": 200,
            "minLength": 0,
            "type": "string",
            "description": "Human-readable service name",
            "example": "Payment Service"
          },
          "ownerTeamId": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Team that owns this service (null for orphaned services, only SYS_ADMIN can create orphaned)",
            "example": "team_core"
          },
          "environments": {
            "maxItems": 2147483647,
            "minItems": 1,
            "type": "array",
            "description": "List of environments where this service is deployed (defaults to [\"dev\", \"staging\", \"prod\"] if not provided)",
            "example": [
              "dev",
              "staging",
              "prod"
            ],
            "items": {
              "type": "string",
              "description": "List of environments where this service is deployed (defaults to [\"dev\", \"staging\", \"prod\"] if not provided)",
              "example": "[\"dev\",\"staging\",\"prod\"]"
            }
          },
          "tags": {
            "type": "array",
            "description": "Optional tags for categorization",
            "example": [
              "microservice",
              "payment",
              "critical"
            ],
            "items": {
              "type": "string",
              "description": "Optional tags for categorization",
              "example": "[\"microservice\",\"payment\",\"critical\"]"
            }
          },
          "repoUrl": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "description": "Git repository URL",
            "example": "https://github.com/company/payment-service"
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "description": "Additional service attributes",
              "example": "{\"version\":\"1.2.0\",\"framework\":\"spring-boot\"}"
            },
            "description": "Additional service attributes",
            "example": {
              "version": "1.2.0",
              "framework": "spring-boot"
            }
          }
        },
        "description": "Application service creation request"
      },
      "KVTransactionOperation": {
        "required": [
          "op",
          "path"
        ],
        "type": "object",
        "properties": {
          "op": {
            "type": "string",
            "description": "Operation verb",
            "example": "set",
            "enum": [
              "set",
              "delete"
            ]
          },
          "path": {
            "type": "string",
            "description": "Relative path of the key",
            "example": "config/db.url"
          },
          "value": {
            "type": "string",
            "description": "Value payload (required for set operations)",
            "example": "postgres://user:pass@db/prod"
          },
          "encoding": {
            "type": "string",
            "description": "Value encoding",
            "example": "utf8",
            "enum": [
              "base64",
              "utf8",
              "raw"
            ]
          },
          "flags": {
            "minimum": 0,
            "type": "integer",
            "description": "Flags metadata to persist with the key",
            "format": "int64",
            "example": 1
          },
          "cas": {
            "type": "integer",
            "description": "CAS modify index for conditional write/delete",
            "format": "int64",
            "example": 12345
          }
        },
        "description": "Single transaction operation"
      },
      "KVTransactionRequest": {
        "required": [
          "operations"
        ],
        "type": "object",
        "properties": {
          "operations": {
            "type": "array",
            "description": "Operations to execute atomically",
            "items": {
              "$ref": "#/components/schemas/KVTransactionOperation"
            }
          }
        },
        "description": "Request to execute atomic KV operations"
      },
      "SeedResult": {
        "type": "object",
        "properties": {
          "servicesSeeded": {
            "type": "integer",
            "format": "int32"
          },
          "instancesSeeded": {
            "type": "integer",
            "format": "int32"
          },
          "driftEventsSeeded": {
            "type": "integer",
            "format": "int32"
          },
          "sharesSeeded": {
            "type": "integer",
            "format": "int32"
          },
          "approvalRequestsSeeded": {
            "type": "integer",
            "format": "int32"
          },
          "approvalDecisionsSeeded": {
            "type": "integer",
            "format": "int32"
          },
          "kvEntriesSeeded": {
            "type": "integer",
            "format": "int32"
          },
          "totalSeeded": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "CleanResult": {
        "type": "object",
        "properties": {
          "servicesDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "instancesDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "driftEventsDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "sharesDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "approvalRequestsDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "approvalDecisionsDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "kvEntriesDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "totalDeleted": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "CombinedResult": {
        "type": "object",
        "properties": {
          "cleanResult": {
            "$ref": "#/components/schemas/CleanResult"
          },
          "seedResult": {
            "$ref": "#/components/schemas/SeedResult"
          },
          "summary": {
            "type": "string"
          }
        }
      },
      "TestEmailRequest": {
        "required": [
          "body",
          "subject"
        ],
        "type": "object",
        "properties": {
          "subject": {
            "type": "string",
            "description": "Email subject",
            "example": "Test Email"
          },
          "body": {
            "type": "string",
            "description": "Email body (HTML)",
            "example": "\u003Ch1\u003ETest Email\u003C/h1\u003E\u003Cp\u003EThis is a test email.\u003C/p\u003E"
          }
        },
        "description": "Request to send a test email"
      },
      "DriftEventUpdateRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "New drift status",
            "example": "RESOLVED",
            "enum": [
              "DETECTED",
              "ACKNOWLEDGED",
              "RESOLVING",
              "RESOLVED",
              "IGNORED",
              "DETECTED",
              "RESOLVED",
              "IGNORED"
            ]
          },
          "resolvedBy": {
            "type": "string",
            "description": "Who resolved the drift",
            "example": "user1"
          },
          "notes": {
            "type": "string",
            "description": "Resolution notes",
            "example": "Applied configuration update to resolve drift"
          }
        },
        "description": "Drift event update request"
      },
      "MeResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "Unique user identifier",
            "example": "user1"
          },
          "username": {
            "type": "string",
            "description": "Username",
            "example": "john.doe"
          },
          "email": {
            "type": "string",
            "description": "User email address",
            "example": "john.doe@company.com"
          },
          "firstName": {
            "type": "string",
            "description": "User first name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "User last name",
            "example": "Doe"
          },
          "teamIds": {
            "type": "array",
            "description": "List of team IDs user belongs to",
            "example": [
              "team_core"
            ],
            "items": {
              "type": "string",
              "description": "List of team IDs user belongs to",
              "example": "[\"team_core\"]"
            }
          },
          "roles": {
            "type": "array",
            "description": "User roles",
            "example": [
              "USER"
            ],
            "items": {
              "type": "string",
              "description": "User roles",
              "example": "[\"USER\"]"
            }
          },
          "managerId": {
            "type": "string",
            "description": "Manager user ID",
            "example": "manager1"
          }
        },
        "description": "Current user information response"
      },
      "PermissionsResponse": {
        "type": "object",
        "properties": {
          "allowedApiRoutes": {
            "type": "array",
            "description": "API routes user can access",
            "example": [
              "/api/application-services",
              "/api/service-instances"
            ],
            "items": {
              "type": "string",
              "description": "API routes user can access",
              "example": "[\"/api/application-services\",\"/api/service-instances\"]"
            }
          },
          "allowedUiRoutes": {
            "type": "array",
            "description": "UI routes user can access",
            "example": [
              "/dashboard",
              "/services"
            ],
            "items": {
              "type": "string",
              "description": "UI routes user can access",
              "example": "[\"/dashboard\",\"/services\"]"
            }
          },
          "roles": {
            "type": "array",
            "description": "User roles",
            "example": [
              "USER"
            ],
            "items": {
              "type": "string",
              "description": "User roles",
              "example": "[\"USER\"]"
            }
          },
          "teams": {
            "type": "array",
            "description": "User team memberships",
            "example": [
              "team_core"
            ],
            "items": {
              "type": "string",
              "description": "User team memberships",
              "example": "[\"team_core\"]"
            }
          },
          "features": {
            "type": "object",
            "additionalProperties": {
              "type": "boolean",
              "description": "Feature flags for user",
              "example": false
            },
            "description": "Feature flags for user",
            "example": {
              "advanced_analytics": true,
              "beta_features": false
            }
          },
          "actions": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "description": "Actions user can perform",
              "example": {
                "service": [
                  "VIEW",
                  "EDIT"
                ],
                "approval": [
                  "APPROVE"
                ]
              },
              "items": {
                "type": "string",
                "description": "Actions user can perform",
                "example": "{\"service\":[\"VIEW\",\"EDIT\"],\"approval\":[\"APPROVE\"]}"
              }
            },
            "description": "Actions user can perform",
            "example": {
              "service": [
                "VIEW",
                "EDIT"
              ],
              "approval": [
                "APPROVE"
              ]
            }
          },
          "ownedServiceIds": {
            "type": "array",
            "description": "Service IDs owned by user's teams",
            "example": [
              "payment-service",
              "user-service"
            ],
            "items": {
              "type": "string",
              "description": "Service IDs owned by user's teams",
              "example": "[\"payment-service\",\"user-service\"]"
            }
          },
          "sharedServiceIds": {
            "type": "array",
            "description": "Service IDs shared with user",
            "example": [
              "analytics-service"
            ],
            "items": {
              "type": "string",
              "description": "Service IDs shared with user",
              "example": "[\"analytics-service\"]"
            }
          }
        },
        "description": "User permissions and allowed routes response"
      },
      "PageMetadata": {
        "type": "object",
        "properties": {
          "totalElements": {
            "type": "integer",
            "description": "Total number of elements across all pages",
            "format": "int64",
            "example": 150
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages",
            "format": "int32",
            "example": 8
          },
          "page": {
            "type": "integer",
            "description": "Current page number (0-based)",
            "format": "int32",
            "example": 0
          },
          "size": {
            "type": "integer",
            "description": "Number of items per page",
            "format": "int32",
            "example": 20
          },
          "hasNext": {
            "type": "boolean",
            "description": "Whether there are more pages available",
            "example": true
          },
          "hasPrevious": {
            "type": "boolean",
            "description": "Whether there are previous pages available",
            "example": false
          },
          "numberOfElements": {
            "type": "integer",
            "description": "Number of elements in current page",
            "format": "int32",
            "example": 20
          },
          "empty": {
            "type": "boolean",
            "description": "Whether the page is empty",
            "example": false
          },
          "last": {
            "type": "boolean"
          },
          "first": {
            "type": "boolean"
          }
        },
        "description": "Pagination metadata from Spring Data Page"
      },
      "ServiceSharePageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of service shares in current page",
            "items": {
              "$ref": "#/components/schemas/ServiceShareResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for service shares"
      },
      "ServiceInstancePageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of service instances in current page",
            "items": {
              "$ref": "#/components/schemas/ServiceInstanceResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for service instances"
      },
      "ConsulServicesMap": {
        "type": "object",
        "properties": {
          "services": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "description": "Map of service names to their tags",
              "example": {
                "payment-service": [
                  "v1",
                  "production"
                ],
                "order-service": [
                  "v2",
                  "staging"
                ]
              },
              "items": {
                "type": "string",
                "description": "Map of service names to their tags",
                "example": "{\"payment-service\":[\"v1\",\"production\"],\"order-service\":[\"v2\",\"staging\"]}"
              }
            },
            "description": "Map of service names to their tags",
            "example": {
              "payment-service": [
                "v1",
                "production"
              ],
              "order-service": [
                "v2",
                "staging"
              ]
            }
          }
        },
        "description": "Map of all registered services in Consul with their tags"
      },
      "ServiceInstanceSummary": {
        "type": "object",
        "properties": {
          "serviceName": {
            "type": "string"
          },
          "instanceId": {
            "type": "string"
          },
          "host": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          },
          "scheme": {
            "type": "string"
          },
          "uri": {
            "type": "string"
          },
          "healthy": {
            "type": "boolean"
          },
          "lastSeenAt": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ServiceInstancesRegistryResponse": {
        "type": "object",
        "properties": {
          "serviceName": {
            "type": "string"
          },
          "instances": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServiceInstanceSummary"
            }
          }
        }
      },
      "IamUserPageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of IAM users in current page",
            "items": {
              "$ref": "#/components/schemas/IamUserResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for IAM users"
      },
      "IamUserResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "Unique user identifier",
            "example": "user1"
          },
          "username": {
            "type": "string",
            "description": "Username",
            "example": "john.doe"
          },
          "email": {
            "type": "string",
            "description": "User email address",
            "example": "john.doe@company.com"
          },
          "firstName": {
            "type": "string",
            "description": "User first name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "User last name",
            "example": "Doe"
          },
          "teamIds": {
            "type": "array",
            "description": "List of team IDs user belongs to",
            "example": [
              "team_core"
            ],
            "items": {
              "type": "string",
              "description": "List of team IDs user belongs to",
              "example": "[\"team_core\"]"
            }
          },
          "managerId": {
            "type": "string",
            "description": "Manager user ID",
            "example": "manager1"
          },
          "roles": {
            "type": "array",
            "description": "User roles",
            "example": [
              "USER"
            ],
            "items": {
              "type": "string",
              "description": "User roles",
              "example": "[\"USER\"]"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "User creation timestamp",
            "format": "date-time",
            "example": "2024-01-15T10:30:45.123Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "User last update timestamp",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          },
          "syncedAt": {
            "type": "string",
            "description": "Last sync timestamp from Keycloak",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          }
        },
        "description": "IAM user details response"
      },
      "IamUserStatsResponse": {
        "type": "object",
        "properties": {
          "totalUsers": {
            "type": "integer",
            "description": "Total number of users",
            "format": "int64",
            "example": 150
          },
          "totalTeams": {
            "type": "integer",
            "description": "Total number of teams",
            "format": "int64",
            "example": 5
          }
        },
        "description": "IAM statistics response"
      },
      "IamTeamPageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of IAM teams in current page",
            "items": {
              "$ref": "#/components/schemas/IamTeamResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for IAM teams"
      },
      "IamTeamResponse": {
        "type": "object",
        "properties": {
          "teamId": {
            "type": "string",
            "description": "Unique team identifier",
            "example": "team_core"
          },
          "displayName": {
            "type": "string",
            "description": "Team display name",
            "example": "Core Team"
          },
          "members": {
            "type": "array",
            "description": "List of team member user IDs",
            "example": [
              "user1",
              "user2",
              "user3"
            ],
            "items": {
              "type": "string",
              "description": "List of team member user IDs",
              "example": "[\"user1\",\"user2\",\"user3\"]"
            }
          },
          "createdAt": {
            "type": "string",
            "description": "Team creation timestamp",
            "format": "date-time",
            "example": "2024-01-15T10:30:45.123Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Team last update timestamp",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          },
          "syncedAt": {
            "type": "string",
            "description": "Last sync timestamp from Keycloak",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          }
        },
        "description": "IAM team details response"
      },
      "IamTeamStatsResponse": {
        "type": "object",
        "properties": {
          "totalTeams": {
            "type": "integer",
            "description": "Total number of teams",
            "format": "int64",
            "example": 5
          }
        },
        "description": "IAM team statistics response"
      },
      "DriftEventPageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of drift events in current page",
            "items": {
              "$ref": "#/components/schemas/DriftEventResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for drift events"
      },
      "ConfigServerInfo": {
        "required": [
          "url"
        ],
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "Base URL of the Config Server",
            "example": "http://config-server:8888"
          },
          "status": {
            "type": "string",
            "description": "Current operational status of the Config Server",
            "example": "UP",
            "enum": [
              "UP",
              "DOWN",
              "UNKNOWN"
            ]
          },
          "version": {
            "type": "string",
            "description": "Version of the Config Server application",
            "example": "1.0.0"
          }
        },
        "description": "Basic information about the Config Server instance"
      },
      "ConfigServerActuatorHealthResponse": {
        "required": [
          "status"
        ],
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Overall health status of the Config Server",
            "example": "UP",
            "enum": [
              "UP",
              "DOWN",
              "OUT_OF_SERVICE",
              "UNKNOWN"
            ]
          },
          "components": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "description": "Health status breakdown by individual components (database, disk space, etc.)",
              "example": "{\"diskSpace\": {\"status\": \"UP\", \"details\": {...}}, \"db\": {\"status\": \"UP\"}}"
            },
            "description": "Health status breakdown by individual components (database, disk space, etc.)",
            "example": "{\"diskSpace\": {\"status\": \"UP\", \"details\": {...}}, \"db\": {\"status\": \"UP\"}}"
          }
        },
        "description": "Health status response from Config Server actuator endpoint"
      },
      "ConfigServerEnvironmentResponse": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the application requesting configuration",
            "example": "payment-service"
          },
          "profiles": {
            "type": "array",
            "description": "List of active Spring profiles for this configuration",
            "example": [
              "dev",
              "kafka",
              "mysql"
            ],
            "items": {
              "type": "string",
              "description": "List of active Spring profiles for this configuration",
              "example": "[\"dev\",\"kafka\",\"mysql\"]"
            }
          },
          "label": {
            "type": "string",
            "description": "Git label, branch, or tag used for this configuration",
            "example": "main"
          },
          "version": {
            "type": "string",
            "description": "Git commit SHA or version identifier of the configuration",
            "example": "abc123def456789"
          },
          "state": {
            "type": "string",
            "description": "Current state of the configuration",
            "example": "ACTIVE",
            "enum": [
              "ACTIVE",
              "INACTIVE"
            ]
          },
          "propertySources": {
            "type": "array",
            "description": "Ordered list of property sources, with higher priority sources first",
            "items": {
              "$ref": "#/components/schemas/ConfigServerPropertySource"
            }
          }
        },
        "description": "Response containing configuration environment details from Config Server"
      },
      "ConfigServerPropertySource": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name identifying this property source (typically filename)",
            "example": "classpath:/config/payment-service-dev.yml"
          },
          "source": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "description": "Map of configuration properties with their values",
              "example": {
                "spring.datasource.url": "jdbc:mysql://localhost:3306/payment",
                "server.port": "8080"
              }
            },
            "description": "Map of configuration properties with their values",
            "example": {
              "spring.datasource.url": "jdbc:mysql://localhost:3306/payment",
              "server.port": "8080"
            }
          }
        },
        "description": "A single property source containing configuration key-value pairs"
      },
      "ApprovalRequestPageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of approval requests in current page",
            "items": {
              "$ref": "#/components/schemas/ApprovalRequestResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for approval requests"
      },
      "ApprovalDecisionPageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of approval decisions in current page",
            "items": {
              "$ref": "#/components/schemas/ApprovalDecisionResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for approval decisions"
      },
      "ApprovalDecisionResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique decision identifier",
            "example": "decision-12345"
          },
          "requestId": {
            "type": "string",
            "description": "Associated approval request ID",
            "example": "request-67890"
          },
          "approverUserId": {
            "type": "string",
            "description": "User who made the decision",
            "example": "admin"
          },
          "gate": {
            "type": "string",
            "description": "Approval gate",
            "example": "SYS_ADMIN",
            "enum": [
              "SYS_ADMIN",
              "LINE_MANAGER"
            ]
          },
          "decision": {
            "type": "string",
            "description": "Decision made",
            "example": "APPROVE",
            "enum": [
              "APPROVE",
              "REJECT"
            ]
          },
          "decidedAt": {
            "type": "string",
            "description": "When the decision was made",
            "format": "date-time",
            "example": "2024-01-15T14:30:45.123Z"
          },
          "note": {
            "type": "string",
            "description": "Decision notes",
            "example": "Approved based on team capacity and expertise"
          }
        },
        "description": "Approval decision details response"
      },
      "ApplicationServicePageResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of application services in current page",
            "items": {
              "$ref": "#/components/schemas/ApplicationServiceResponse"
            }
          },
          "metadata": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        },
        "description": "Page response for application services"
      },
      "KVEntryResponse": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "Relative path of the key",
            "example": "config/db.url"
          },
          "valueBase64": {
            "type": "string",
            "description": "Value as base64-encoded string",
            "example": "cG9zdGdyZXM6Ly8uLi4="
          },
          "modifyIndex": {
            "type": "integer",
            "description": "Modify index for CAS operations",
            "format": "int64",
            "example": 12345
          },
          "createIndex": {
            "type": "integer",
            "description": "Create index (when key was first created)",
            "format": "int64",
            "example": 100
          },
          "flags": {
            "type": "integer",
            "description": "Flags (arbitrary metadata)",
            "format": "int64",
            "example": 0
          }
        },
        "description": "KV entry with metadata"
      },
      "KVListResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of KV entries",
            "items": {
              "$ref": "#/components/schemas/KVEntryResponse"
            }
          }
        },
        "description": "List of KV entries"
      },
      "KVKeysResponse": {
        "type": "object",
        "properties": {
          "keys": {
            "type": "array",
            "description": "List of key paths (relative to service root)",
            "items": {
              "type": "string",
              "description": "List of key paths (relative to service root)"
            }
          }
        },
        "description": "List of KV keys"
      },
      "KVListResponseV2": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "List of logical items",
            "items": {
              "$ref": "#/components/schemas/KVListItem"
            }
          },
          "manifest": {
            "$ref": "#/components/schemas/KVListManifest"
          },
          "type": {
            "type": "string",
            "description": "Logical type derived from flags",
            "example": "LIST"
          }
        },
        "description": "Structured list stored in KV"
      },
      "KVDeleteResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the operation succeeded",
            "example": true
          }
        },
        "description": "Result of DELETE operation"
      }
    },
    "securitySchemes": {
      "oauth2_auth_code": {
        "type": "oauth2",
        "flows": {
          "authorizationCode": {
            "authorizationUrl": "http://keycloak:8080/realms/config-control/protocol/openid-connect/auth",
            "tokenUrl": "http://keycloak:8080/realms/config-control/protocol/openid-connect/token",
            "scopes": {
              "openid": "OpenID",
              "profile": "Profile",
              "email": "Email"
            }
          }
        }
      },
      "oauth2_password": {
        "type": "oauth2",
        "flows": {
          "password": {
            "tokenUrl": "http://keycloak:8080/realms/config-control/protocol/openid-connect/token",
            "scopes": {
              "openid": "OpenID",
              "profile": "Profile",
              "email": "Email"
            }
          }
        }
      }
    }
  }
}