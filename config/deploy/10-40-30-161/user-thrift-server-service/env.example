# =========================
# user-thrift-server-service — environment variables (example)
# =========================

# -------------------------
# Service identity & runtime
# -------------------------
SERVICE_NAME=user-thrift-server-service           # Docker container name/labels
SERVICE_ENVIRONMENT=prod                         # Arbitrary label for logs/metrics

# -------------------------
# Ports & networking
# -------------------------
# REST management/Actuator port mapping
HOST_HTTP_PORT=28082                             # Host port exposing actuator/prometheus
CONTAINER_HTTP_PORT=8080                         # Spring Boot HTTP port in container

# Thrift RPC (TCP) mapping
HOST_THRIFT_PORT=29090                           # Host port for external Thrift clients
CONTAINER_THRIFT_PORT=9090                       # Thrift server internal port

# -------------------------
# Spring profiles & JVM
# -------------------------
SPRING_PROFILES_ACTIVE=default
JAVA_OPTS=-XX:+UseG1GC -XX:MaxRAMPercentage=75.0

# -------------------------
# Kafka connectivity (server → watcher bridge topics)
# -------------------------
SPRING_KAFKA_BOOTSTRAP_SERVERS=<KAFKA_HOST>:<KAFKA_PORT>   # Kafka bootstrap servers

# -------------------------
# Redis (operation tracking / RPC pending store)
# -------------------------
SPRING_DATA_REDIS_URL=redis://<REDIS_HOST>:<REDIS_PORT>     # Redis URL

# -------------------------
# Thrift server config (maps to thrift.*)
# -------------------------
THRIFT_PORT=${CONTAINER_THRIFT_PORT}                 # Exposed inside container; mapped via HOST_THRIFT_PORT
THRIFT_SERVER_NAME=thrift-server                     # Logical name
THRIFT_MAX_THREADS=16                                # Max worker threads
THRIFT_MIN_THREADS=2                                 # Min worker threads

# -------------------------
# Observability
# -------------------------
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=*         # Review for prod
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# -------------------------
# Logging labels for promtail
# -------------------------
LOG_LABEL_SERVICE=user-thrift-server-service
LOG_LABEL_ENVIRONMENT=docker


